{"mappings":"YAAA,IAAIA,EACAC,EAAc,EACdC,EAAa,EACjB,SAASC,EAASC,EAAOC,GACvB,IASMC,EAAY,IAAIC,gBATP,CACbC,IAAK,qCACLC,EAAGL,EACHM,WAAa,QACbC,YAAc,aACdC,WAAa,OACbC,KAAMR,EACNS,SAAU,KAGZ,OAAOC,MAAM,4BAAsCC,OAAVV,IAAaW,MAAK,SAAAC,GACzD,OAAOA,EAASC,M,IAGpB,IAAMC,EAAcC,SAASC,cAAe,iBAC5CF,EAAYG,iBAAkB,SA8C9B,SAAkBC,IAChBvB,GAAe,KACKC,GAClBkB,EAAYK,UAAUC,IAAK,QAE7BvB,EAASH,EAAOC,GAAagB,MAAK,SAAAC,GAChCS,EAAWT,EAASU,K,OAnDxB,IAAMC,EAAgBR,SAASC,cAAe,YAmB9C,SAASK,EAAWG,GAClB,IAAMC,EAASD,EAAME,KAAI,SAAAC,GACvB,MAAO,+CACoCjB,OAA3BiB,EAAKC,aAAa,WAIlBlB,OAJ2BiB,EAAKE,KAAK,kIAQrCnB,OAJAiB,EAAKG,MAAM,0GAQXpB,OAJAiB,EAAKI,MAAM,6GAQXrB,OAJAiB,EAAKK,SAAS,8GAICtB,OAAfiB,EAAKM,UAAU,wD,IAKjCV,EAAcW,mBAAoB,YAAYT,E,CA1C7BV,SAASC,cAAe,gBAChCC,iBAAiB,UAE5B,SAAsBC,GACpBA,EAAMiB,iBAGNtC,EAFAH,EAAQwB,EAAMkB,OAAO,GAAGC,MACxB1C,EAAc,GACegB,MAAK,SAAAC,GAChCW,EAAce,UAAa,GAC3BjB,EAAWT,EAASU,OACpB1B,EAAa2C,KAAKC,KAAK5B,EAAS6B,UAAY,KAC3B,EACf3B,EAAYK,UAAUuB,OAAQ,QAE9B5B,EAAYK,UAAUC,IAAK,O","sources":["src/index.js"],"sourcesContent":["let input;\nlet currentPage = 1;\nlet totalPages = 1;\nfunction fetchImg(input, currentPage) {\n  const params = {\n    key: '35306825-77139744492b195714f08c4a6',\n    q: input,\n    image_type: `photo`,\n    orientation: `horizontal`,\n    safesearch: `true`,\n    page: currentPage,\n    per_page: 40,\n  };\n  const urlParams = new URLSearchParams(params);\n  return fetch(`https://pixabay.com/api/?${urlParams}`).then(response => {\n    return response.json();\n  });\n}\nconst btnLoadMore = document.querySelector(`.js-load-more`);\nbtnLoadMore.addEventListener(`click`, nextPage);\nconst sectionRender = document.querySelector(`.gallery`);\nconst formSearch = document.querySelector(`#search-form`);\nformSearch.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n  input = event.target[0].value;\n  currentPage = 1;\n  fetchImg(input, currentPage).then(response => {\n    sectionRender.innerHTML = ``;\n    renderImgs(response.hits);\n    totalPages = Math.ceil(response.totalHits / 40);\n    if (totalPages > 1) {\n      btnLoadMore.classList.remove(`hide`);\n    } else {\n      btnLoadMore.classList.add(`hide`);\n    }\n  });\n}\nfunction renderImgs(cards) {\n  const markUp = cards.map(elem => {\n    return `<div class=\"photo-card\">\n        <img src=\"${elem.webformatURL}\" alt=\"${elem.tags}\" loading=\"lazy\" />\n        <div class=\"info\">\n          <p class=\"info-item\">\n            <b>Likes</b>\n            <span>${elem.likes}</span>\n          </p>\n          <p class=\"info-item\">\n            <b>Views</b>\n            <span>${elem.views}</span>\n          </p>\n          <p class=\"info-item\">\n            <b>Comments</b>\n            <span>${elem.comments}</span>\n          </p>\n          <p class=\"info-item\">\n            <b>Downloads</b>\n            <span>${elem.downloads}</span>\n          </p>\n        </div>\n      </div>`;\n  });\n  sectionRender.insertAdjacentHTML(`beforeend`, markUp);\n}\nfunction nextPage(event) {\n  currentPage += 1;\n  if (currentPage === totalPages) {\n    btnLoadMore.classList.add(`hide`);\n  }\n  fetchImg(input, currentPage).then(response => {\n    renderImgs(response.hits);\n  });\n}\n"],"names":["$b8f9b7833fa37166$var$input","$b8f9b7833fa37166$var$currentPage","$b8f9b7833fa37166$var$totalPages","$b8f9b7833fa37166$var$fetchImg","input1","currentPage1","urlParams","URLSearchParams","key","q","image_type","orientation","safesearch","page","per_page","fetch","concat","then","response","json","$b8f9b7833fa37166$var$btnLoadMore","document","querySelector","addEventListener","event","classList","add","$b8f9b7833fa37166$var$renderImgs","hits","$b8f9b7833fa37166$var$sectionRender","cards","markUp","map","elem","webformatURL","tags","likes","views","comments","downloads","insertAdjacentHTML","preventDefault","target","value","innerHTML","Math","ceil","totalHits","remove"],"version":3,"file":"index.e33ce20a.js.map"}