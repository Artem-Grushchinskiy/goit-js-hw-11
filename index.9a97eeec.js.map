{"mappings":"AAAA,IAAIA,EACAC,EAAc,EACdC,EAAa,EACjB,SAASC,EAASC,EAAOC,GACvB,MASMC,EAAY,IAAIC,gBATP,CACbC,IAAK,qCACLC,EAAGL,EACHM,WAAY,QACZC,YAAa,aACbC,WAAY,OACZC,KAAMR,EACNS,SAAU,KAGZ,OAAOC,MAAM,4BAA4BT,KAAaU,MAAKC,GAClDA,EAASC,Q,CAGpB,MAAMC,EAAcC,SAASC,cAAc,iBAC3CF,EAAYG,iBAAiB,SA8C7B,SAAkBC,GAChBtB,GAAe,EACXA,IAAgBC,GAClBiB,EAAYK,UAAUC,IAAI,QAE5BtB,EAASH,EAAOC,GAAae,MAAKC,IAChCS,EAAWT,EAASU,KAAK,G,IAnD7B,MAAMC,EAAgBR,SAASC,cAAc,YAmB7C,SAASK,EAAWG,GAClB,MAAMC,EAASD,EAAME,KAAIC,GAChB,+CACSA,EAAKC,sBAAsBD,EAAKE,qIAIhCF,EAAKG,8GAILH,EAAKI,iHAILJ,EAAKK,qHAILL,EAAKM,mEAKvBV,EAAcW,mBAAmB,YAAaT,E,CA1C7BV,SAASC,cAAc,gBAC/BC,iBAAiB,UAE5B,SAAsBC,GACpBA,EAAMiB,iBACNxC,EAAQuB,EAAMkB,OAAO,GAAGC,MACxBzC,EAAc,EACdE,EAASH,EAAOC,GAAae,MAAKC,IAChCW,EAAce,UAAY,GAC1BjB,EAAWT,EAASU,MACpBzB,EAAa0C,KAAKC,KAAK5B,EAAS6B,UAAY,IACxC5C,EAAa,EACfiB,EAAYK,UAAUuB,OAAO,QAE7B5B,EAAYK,UAAUC,IAAI,OAAO,G","sources":["src/index.js"],"sourcesContent":["let input;\nlet currentPage = 1;\nlet totalPages = 1;\nfunction fetchImg(input, currentPage) {\n  const params = {\n    key: '35306825-77139744492b195714f08c4a6',\n    q: input,\n    image_type: `photo`,\n    orientation: `horizontal`,\n    safesearch: `true`,\n    page: currentPage,\n    per_page: 40,\n  };\n  const urlParams = new URLSearchParams(params);\n  return fetch(`https://pixabay.com/api/?${urlParams}`).then(response => {\n    return response.json();\n  });\n}\nconst btnLoadMore = document.querySelector(`.js-load-more`);\nbtnLoadMore.addEventListener(`click`, nextPage);\nconst sectionRender = document.querySelector(`.gallery`);\nconst formSearch = document.querySelector(`#search-form`);\nformSearch.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n  input = event.target[0].value;\n  currentPage = 1;\n  fetchImg(input, currentPage).then(response => {\n    sectionRender.innerHTML = ``;\n    renderImgs(response.hits);\n    totalPages = Math.ceil(response.totalHits / 40);\n    if (totalPages > 1) {\n      btnLoadMore.classList.remove(`hide`);\n    } else {\n      btnLoadMore.classList.add(`hide`);\n    }\n  });\n}\nfunction renderImgs(cards) {\n  const markUp = cards.map(elem => {\n    return `<div class=\"photo-card\">\n        <img src=\"${elem.webformatURL}\" alt=\"${elem.tags}\" loading=\"lazy\" />\n        <div class=\"info\">\n          <p class=\"info-item\">\n            <b>Likes</b>\n            <span>${elem.likes}</span>\n          </p>\n          <p class=\"info-item\">\n            <b>Views</b>\n            <span>${elem.views}</span>\n          </p>\n          <p class=\"info-item\">\n            <b>Comments</b>\n            <span>${elem.comments}</span>\n          </p>\n          <p class=\"info-item\">\n            <b>Downloads</b>\n            <span>${elem.downloads}</span>\n          </p>\n        </div>\n      </div>`;\n  });\n  sectionRender.insertAdjacentHTML(`beforeend`, markUp);\n}\nfunction nextPage(event) {\n  currentPage += 1;\n  if (currentPage === totalPages) {\n    btnLoadMore.classList.add(`hide`);\n  }\n  fetchImg(input, currentPage).then(response => {\n    renderImgs(response.hits);\n  });\n}\n"],"names":["$1f0dc3b9307be026$var$input","$1f0dc3b9307be026$var$currentPage","$1f0dc3b9307be026$var$totalPages","$1f0dc3b9307be026$var$fetchImg","input1","currentPage1","urlParams","URLSearchParams","key","q","image_type","orientation","safesearch","page","per_page","fetch","then","response","json","$1f0dc3b9307be026$var$btnLoadMore","document","querySelector","addEventListener","event","classList","add","$1f0dc3b9307be026$var$renderImgs","hits","$1f0dc3b9307be026$var$sectionRender","cards","markUp","map","elem","webformatURL","tags","likes","views","comments","downloads","insertAdjacentHTML","preventDefault","target","value","innerHTML","Math","ceil","totalHits","remove"],"version":3,"file":"index.9a97eeec.js.map"}